/*@preserve Copyright (c) 2014 Masayuki Maekawa Licensed MIT*/
(function($){"use strict";var defaults={baseTextClass:"",baseTextParentSelector:"",checkTextStr:"N",lineColor:"rgba(0,0,0,.3)",lineStartOffset:0,maxLineNum:100};$.fn.checkVerticalRhythm=function(options){var opt=$.extend({},defaults,options),$doc=$(document),docWid=$doc.width(),docHei=$doc.height(),$checkParent=""===opt.baseTextParentSelector?$("body"):$(opt.baseTextParentSelector),$checkDom=""===opt.baseTextClass?$("<p>"):$('<p class="'+opt.baseTextClass+'">'),baseLineHeight=0,i=0,lineParentCSSPosition="relative"===$checkParent.css("position")||"absolute"===$checkParent.css("position")?!1:"relative",$lineDiv=$('<div class="js-checkVerticalRhythm-line">').css({position:"absolute",width:docWid,height:"1px",left:0,overflow:"hidden",backgroundColor:opt.lineColor});for($(".js-checkVerticalRhythm-line").remove(),lineParentCSSPosition!==!1&&$checkParent.css("position","relative"),$checkParent.eq(0).append($checkDom.text(opt.checkTextStr)),baseLineHeight=$checkDom.height(),$checkDom.remove(),i=0;Math.floor(docHei/baseLineHeight)>=i;i++){var $insLineDiv=$lineDiv.clone();if($insLineDiv.css("top",i*baseLineHeight+opt.lineStartOffset+"px"),$checkParent.append($insLineDiv),i>=opt.maxLineNum&&0!==opt.maxLineNum)break}}})(jQuery);